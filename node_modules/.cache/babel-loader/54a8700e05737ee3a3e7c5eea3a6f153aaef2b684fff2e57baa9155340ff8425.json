{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const fetchPizzas = createAsyncThunk('pizza/fetchPizzasStatus', async _ref => {\n  let {\n    category,\n    search,\n    currentPage,\n    sort\n  } = _ref;\n  const {\n    data\n  } = await axios.get(`https://63d81502afbba6b7c94a4d2b.mockapi.io/items?page=${currentPage}${search}&limit=4&${category > 0 ? `category=${category}` : ''}&sortBy=${sort.sortProperty}&order=desc`);\n  return data;\n});\nconst initialState = {\n  items: [],\n  status: 'loading'\n};\nconst pizzaSlice = createSlice({\n  name: 'pizza',\n  initialState,\n  reducers: {\n    setItems(state, action) {\n      state.items = action.payload;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchPizzas.pending, state => {\n      state.status = 'loading';\n      state.items = [];\n    }).addCase(fetchPizzas.fulfilled, (state, action) => {\n      state.items = action.payload;\n      state.status = 'success';\n    }).addCase(fetchPizzas.rejected, state => {\n      state.status = 'error';\n      state.items = [];\n    });\n  }\n});\nexport const selectPizza = state => state.pizza;\nconst {\n  setItems\n} = pizzaSlice.actions;\nexport default pizzaSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","fetchPizzas","category","search","currentPage","sort","data","get","sortProperty","initialState","items","status","pizzaSlice","name","reducers","setItems","state","action","payload","extraReducers","builder","addCase","pending","fulfilled","rejected","selectPizza","pizza","actions","reducer"],"sources":["/Users/sauletsarsenbaev/Desktop/web/2023/pizza-react/src/redux/slices/pizzasSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nexport const fetchPizzas = createAsyncThunk(\n  'pizza/fetchPizzasStatus',\n  async ({ category, search, currentPage, sort }) => {\n    const { data } = await axios.get(\n      `https://63d81502afbba6b7c94a4d2b.mockapi.io/items?page=${currentPage}${search}&limit=4&${\n        category > 0 ? `category=${category}` : ''\n      }&sortBy=${sort.sortProperty}&order=desc`,\n    );\n    return data;\n  },\n);\n\nconst initialState = {\n  items: [],\n  status: 'loading',\n};\n\nconst pizzaSlice = createSlice({\n  name: 'pizza',\n  initialState,\n  reducers: {\n    setItems(state, action) {\n      state.items = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchPizzas.pending, (state) => {\n        state.status = 'loading';\n        state.items = [];\n      })\n      .addCase(fetchPizzas.fulfilled, (state, action) => {\n        state.items = action.payload;\n        state.status = 'success';\n      })\n      .addCase(fetchPizzas.rejected, (state) => {\n        state.status = 'error';\n        state.items = [];\n      });\n  },\n});\n\nexport const selectPizza = (state) => state.pizza;\n\nconst { setItems } = pizzaSlice.actions;\n\nexport default pizzaSlice.reducer;\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,WAAW,GAAGH,gBAAgB,CACzC,yBAAyB,EACzB,cAAmD;EAAA,IAA5C;IAAEI,QAAQ;IAAEC,MAAM;IAAEC,WAAW;IAAEC;EAAK,CAAC;EAC5C,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMN,KAAK,CAACO,GAAG,CAC7B,0DAAyDH,WAAY,GAAED,MAAO,YAC7ED,QAAQ,GAAG,CAAC,GAAI,YAAWA,QAAS,EAAC,GAAG,EACzC,WAAUG,IAAI,CAACG,YAAa,aAAY,CAC1C;EACD,OAAOF,IAAI;AACb,CAAC,CACF;AAED,MAAMG,YAAY,GAAG;EACnBC,KAAK,EAAE,EAAE;EACTC,MAAM,EAAE;AACV,CAAC;AAED,MAAMC,UAAU,GAAGb,WAAW,CAAC;EAC7Bc,IAAI,EAAE,OAAO;EACbJ,YAAY;EACZK,QAAQ,EAAE;IACRC,QAAQ,CAACC,KAAK,EAAEC,MAAM,EAAE;MACtBD,KAAK,CAACN,KAAK,GAAGO,MAAM,CAACC,OAAO;IAC9B;EACF,CAAC;EACDC,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAACpB,WAAW,CAACqB,OAAO,EAAGN,KAAK,IAAK;MACvCA,KAAK,CAACL,MAAM,GAAG,SAAS;MACxBK,KAAK,CAACN,KAAK,GAAG,EAAE;IAClB,CAAC,CAAC,CACDW,OAAO,CAACpB,WAAW,CAACsB,SAAS,EAAE,CAACP,KAAK,EAAEC,MAAM,KAAK;MACjDD,KAAK,CAACN,KAAK,GAAGO,MAAM,CAACC,OAAO;MAC5BF,KAAK,CAACL,MAAM,GAAG,SAAS;IAC1B,CAAC,CAAC,CACDU,OAAO,CAACpB,WAAW,CAACuB,QAAQ,EAAGR,KAAK,IAAK;MACxCA,KAAK,CAACL,MAAM,GAAG,OAAO;MACtBK,KAAK,CAACN,KAAK,GAAG,EAAE;IAClB,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,OAAO,MAAMe,WAAW,GAAIT,KAAK,IAAKA,KAAK,CAACU,KAAK;AAEjD,MAAM;EAAEX;AAAS,CAAC,GAAGH,UAAU,CAACe,OAAO;AAEvC,eAAef,UAAU,CAACgB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}